import React from 'react';
import { AuthProvider, useAuth } from './contexts/AuthContext';
import { LanguageProvider } from './contexts/LanguageContext';
import { DataProvider } from './contexts/DataContext';
import LoginScreen from './components/LoginScreen';
import MainLayout from './components/MainLayout';

const AppContent: React.FC = () => {
    const { user } = useAuth();

    return user ? <MainLayout /> : <LoginScreen />;
};

const App: React.FC = () => {
    return (
        <LanguageProvider>
            <AuthProvider>
                <DataProvider>
                    <div className="min-h-screen bg-gray-100 text-brand-dark">
                        <AppContent />
                    </div>
                </DataProvider>
            </AuthProvider>
        </LanguageProvider>
    );
};

export default App;